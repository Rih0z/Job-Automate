# çµ±åˆãƒ—ãƒ­ãƒ³ãƒ—ãƒˆï¼šæŠ€è¡“ä»•æ§˜æ›¸ & å¤‰æ›´å±¥æ­´ç®¡ç†

ã‚·ã‚¹ãƒ†ãƒ ã®è©³ç´°ãªæŠ€è¡“ä»•æ§˜æ›¸ã‚’ä½œæˆã—ã€å¤‰æ›´å±¥æ­´ã‚’ä½“ç³»çš„ã«æ•´ç†ã—ã¦ãã ã•ã„ã€‚æ—¢å­˜ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã®æ§‹é€ ã‚’å°Šé‡ã—ã€ç¶™ç¶šçš„ãªæ›´æ–°ã‚’å‰æã¨ã—ãŸæ§‹æˆã«ã—ã¾ã™ã€‚

## STEP 1: æ—¢å­˜æŠ€è¡“æ–‡æ›¸ã®æ¢ç´¢ã¨åˆ†æ

### 1.1 æ—¢å­˜æ–‡æ›¸ã®ç™ºè¦‹
```bash
# æŠ€è¡“ä»•æ§˜é–¢é€£ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã®ç‰¹å®š
serena find-files --pattern="*spec*|*design*|*technical*|*architecture*|CHANGELOG*|MIGRATION*"
serena analyze-existing-tech-docs --categorize-by-type
serena extract-doc-ownership --identify-maintainers
```

### 1.2 å¤‰æ›´å±¥æ­´ã®åˆ†æ
```bash
# Gitå±¥æ­´ã¨ã‚¿ã‚°ã®åˆ†æ
serena analyze-git-history --semantic-versioning --detailed
serena extract-version-tags --compare-changes
serena identify-breaking-changes --impact-analysis
serena track-dependency-evolution --security-updates
```

### 1.3 æ–‡æ›¸é…ç½®æˆ¦ç•¥ã®æ±ºå®š
```bash
# ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå›ºæœ‰ã®æ…£ä¾‹ã«åˆã‚ã›ãŸé…ç½®
serena determine-spec-doc-location --follow-existing-patterns
# å€™è£œ: /docs/specs/, /technical-docs/, /design/, /specifications/
```

## STEP 2: æŠ€è¡“ä»•æ§˜æ›¸ã®ç”Ÿæˆãƒ»æ›´æ–°

### 2.1 ã‚·ã‚¹ãƒ†ãƒ è¨­è¨ˆã®è©³ç´°åˆ†æ
```bash
serena analyze-design-patterns --comprehensive --anti-patterns
serena extract-architectural-decisions --rationale-included
serena analyze-performance-characteristics --bottlenecks
serena map-security-implementations --threat-model
serena analyze-data-architecture --consistency-patterns
```

### 2.2 éæ©Ÿèƒ½è¦ä»¶ã®æŠ½å‡º
```bash
serena extract-performance-requirements --from-monitoring
serena identify-scalability-constraints --current-limits
serena analyze-reliability-patterns --failure-modes
serena extract-security-requirements --compliance-check
```

## STEP 3: å¤‰æ›´å±¥æ­´ãƒ»ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³è¨˜éŒ²

### 3.1 ä½“ç³»çš„ãªå¤‰æ›´ãƒ­ã‚°ç”Ÿæˆ
```bash
serena generate-changelog --conventional-commits --auto-categorize
serena extract-breaking-changes --migration-impact
serena analyze-dependency-updates --security-implications
serena document-configuration-changes --environment-impact
```

### 3.2 ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³æ‰‹é †ã®ä½œæˆ
```bash
serena generate-migration-guide --version-specific --rollback-included
serena create-upgrade-scripts --automated-where-possible
serena validate-migration-path --test-scenarios
```

## å‡ºåŠ›æ§‹æˆï¼ˆ.tmpå†…ä½œæ¥­â†’ç¢ºå®šé…ç½®ãƒ»æ—¢å­˜ãƒ•ã‚¡ã‚¤ãƒ«åä¿æŒï¼‰

### A. .tmpå†…ã§ã®æŠ€è¡“ä»•æ§˜æ›¸ã‚»ãƒƒãƒˆï¼ˆæ—¢å­˜ãƒ•ã‚¡ã‚¤ãƒ«å„ªå…ˆæ›´æ–°ï¼‰

#### 1. .tmpå†…ã§ã®ãƒ¡ã‚¤ãƒ³æŠ€è¡“ä»•æ§˜æ›¸æ›´æ–°ãƒ»ä½œæˆ
```bash
# æ—¢å­˜ãƒ•ã‚¡ã‚¤ãƒ«åãƒ‘ã‚¿ãƒ¼ãƒ³ã«å¿œã˜ãŸ.tmpå†…æ›´æ–°æˆ¦ç•¥
if [ -f ".tmp/tech-work/original/TECHNICAL.md" ]; then
    serena enhance-technical-spec ".tmp/tech-work/original/TECHNICAL.md" --preserve-structure --add-missing-sections --output=".tmp/tech-work/TECHNICAL-enhanced.md"
elif [ -f ".tmp/tech-work/original/technical-spec.md" ]; then
    serena update-technical-spec ".tmp/tech-work/original/technical-spec.md" --comprehensive-enhancement --output=".tmp/tech-work/technical-spec-enhanced.md"
elif [ -f ".tmp/tech-work/original/DESIGN.md" ]; then
    serena migrate-design-to-tech-spec ".tmp/tech-work/original/DESIGN.md" --preserve-design-decisions --output=".tmp/tech-work/TECHNICAL.md"
else
    # æ–°è¦ä½œæˆ
    serena create-technical-overview ".tmp/tech-work/" --from-analysis --output="technical-overview.md"
fi
```

#### 2. .tmpå†…ã§ã®åˆ†é‡åˆ¥ä»•æ§˜æ›¸æ›´æ–°ãƒ»è£œå®Œ
```bash
# ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ä»•æ§˜ã®.tmpå†…å‡¦ç†
if [ -f ".tmp/tech-work/original/performance.md" ] || [ -f ".tmp/tech-work/original/PERFORMANCE.md" ]; then
    serena update-performance-spec ".tmp/tech-work/original/performance*.md" --preserve-benchmarks --add-requirements --output=".tmp/tech-work/performance-enhanced.md"
else
    serena create-performance-spec ".tmp/tech-work/" --from-analysis --output="performance.md"
fi

# ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ä»•æ§˜ã®.tmpå†…å‡¦ç†
if [ -f ".tmp/tech-work/original/security.md" ] || [ -f ".tmp/tech-work/original/SECURITY.md" ]; then
    serena update-security-spec ".tmp/tech-work/original/security*.md" --preserve-policies --enhance-threat-model --output=".tmp/tech-work/security-enhanced.md"
else
    serena create-security-spec ".tmp/tech-work/" --from-analysis --output="security.md"
fi

# ãƒ‡ãƒ¼ã‚¿è¨­è¨ˆä»•æ§˜ã®.tmpå†…å‡¦ç†
if [ -f ".tmp/tech-work/original/data-design.md" ] || [ -f ".tmp/tech-work/original/database.md" ]; then
    serena update-data-spec ".tmp/tech-work/original/data*.md" --preserve-schema --enhance-rationale --output=".tmp/tech-work/data-design-enhanced.md"
else
    serena create-data-design-spec ".tmp/tech-work/" --from-analysis --output="data-design.md"
fi
```

### B. .tmpå†…ã§ã®å¤‰æ›´ç®¡ç†ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆï¼ˆæ—¢å­˜ãƒ•ã‚¡ã‚¤ãƒ«ä¿æŒãƒ»å¼·åŒ–ï¼‰

#### 1. .tmpå†…ã§ã®CHANGELOG.mdçµ±ä¸€ãƒ»æ›´æ–°
```bash
# æ—¢å­˜CHANGELOGç³»ãƒ•ã‚¡ã‚¤ãƒ«ã®.tmpå†…çµ±ä¸€ãƒ»æ›´æ–°
if [ -f ".tmp/changelog-work/CHANGELOG.md" ]; then
    serena enhance-changelog ".tmp/changelog-work/CHANGELOG.md" --format-standardization --semantic-versioning --output=".tmp/changelog-work/CHANGELOG-enhanced.md"
elif [ -f ".tmp/changelog-work/HISTORY.md" ]; then
    serena migrate-history-to-changelog ".tmp/changelog-work/HISTORY.md" --preserve-content --format-upgrade --output=".tmp/changelog-work/CHANGELOG.md"
elif [ -f ".tmp/changelog-work/original/RELEASES.md" ]; then
    serena convert-releases-to-changelog ".tmp/changelog-work/original/RELEASES.md" --structure-improvement --output=".tmp/changelog-work/CHANGELOG.md"
else
    # Gitå±¥æ­´ã‹ã‚‰æ–°è¦ç”Ÿæˆ
    serena generate-changelog-from-git ".tmp/changelog-work/analysis" --conventional-commits --output=".tmp/changelog-work/CHANGELOG.md"
fi
```

#### 2. .tmpå†…ã§ã®è©³ç´°å¤‰æ›´å±¥æ­´ãƒ•ã‚©ãƒ«ãƒ€æ§‹ç¯‰
```bash
# æ—¢å­˜ã®å¤‰æ›´å±¥æ­´é–¢é€£ãƒ•ã‚©ãƒ«ãƒ€ã®.tmpå†…æ´»ç”¨
if [ -d ".tmp/changelog-work/original/migration/" ]; then
    serena enhance-migration-folder ".tmp/changelog-work/original/migration/" --preserve-existing-scripts --output-dir=".tmp/changelog-work/migration-enhanced"
elif [ -d ".tmp/changelog-work/original/docs/changes/" ]; then
    serena enhance-changes-folder ".tmp/changelog-work/original/docs/changes/" --organize-by-type --output-dir=".tmp/changelog-work/changes-enhanced"
else
    # æ–°è¦ä½œæˆ
    serena create-changes-structure ".tmp/changelog-work/changes/" --from-analysis
fi
```

## STEP 4: .tmpå†…æˆæœç‰©ã®ç¢ºèªãƒ»æ‰¿èª

### 4.1 .tmpå†…å“è³ªãƒã‚§ãƒƒã‚¯ãƒ»æ—¢å­˜ãƒ•ã‚¡ã‚¤ãƒ«æ•´åˆæ€§ç¢ºèª
```bash
# .tmpå†…ã§ç”Ÿæˆã•ã‚ŒãŸæŠ€è¡“ä»•æ§˜æ›¸ã®å“è³ªç¢ºèª
serena validate-tech-specs ".tmp/tech-work/" --completeness --accuracy --consistency
serena check-spec-implementation-alignment ".tmp/tech-work/" --code-comparison
serena validate-performance-claims ".tmp/tech-work/" --against-monitoring

# å¤‰æ›´å±¥æ­´ã®å“è³ªç¢ºèª
serena validate-changelog-format ".tmp/changelog-work/CHANGELOG-enhanced.md" --conventional-commits
serena check-migration-completeness ".tmp/changelog-work/" --version-coverage
serena verify-breaking-change-documentation ".tmp/changelog-work/" --impact-analysis

# æ—¢å­˜ãƒ•ã‚¡ã‚¤ãƒ«ã¨ã®å·®åˆ†ãƒ»æ”¹å–„ç‚¹ç¢ºèª
serena show-tech-spec-improvements ".tmp/tech-work/" --before-after-comparison
serena show-changelog-improvements ".tmp/changelog-work/" --format-enhancement
```

### 4.2 ä¸­é–“æ‰¿èªãƒ—ãƒ­ã‚»ã‚¹
```bash
echo "=== æŠ€è¡“ä»•æ§˜æ›¸æ›´æ–°çµæœç¢ºèª ==="
echo "ğŸ“Š æŠ€è¡“ä»•æ§˜: $(ls .tmp/tech-work/*enhanced.md | wc -l) ãƒ•ã‚¡ã‚¤ãƒ«æ›´æ–°"
echo "ğŸ“‹ æ–°è¦ä½œæˆ: $(ls .tmp/tech-work/*.md | grep -v enhanced | wc -l) ãƒ•ã‚¡ã‚¤ãƒ«"
echo ""
echo "=== å¤‰æ›´å±¥æ­´çµ±ä¸€çµæœç¢ºèª ==="
echo "ğŸ“ CHANGELOGçµ±ä¸€: $(serena check-changelog-format '.tmp/changelog-work/CHANGELOG-enhanced.md')"
echo "ğŸš€ ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³: $(ls .tmp/changelog-work/migration*/ | wc -l) ãƒãƒ¼ã‚¸ãƒ§ãƒ³å¯¾å¿œ"
echo ""
echo "æ‰¿èªã—ã¦æœ¬é…ç½®ã‚’å®Ÿè¡Œã—ã¾ã™ã‹ï¼Ÿ [y/N]"
read approval

if [[ $approval == "y" || $approval == "Y" ]]; then
    echo "âœ… æ‰¿èªã•ã‚Œã¾ã—ãŸã€‚æœ¬é…ç½®ã‚’å®Ÿè¡Œã—ã¾ã™ã€‚"
    serena proceed-to-tech-spec-deployment
else
    echo "â¸ï¸ .tmpå†…ã§ä½œæ¥­ã‚’ç¶™ç¶šã—ã¾ã™ã€‚"
fi
```

## STEP 5: .tmpâ†’æœ¬ç•ªé…ç½®ãƒ»ã‚¯ãƒªãƒ¼ãƒ³ã‚¢ãƒƒãƒ—

### 5.1 æ—¢å­˜ãƒ•ã‚¡ã‚¤ãƒ«åä¿æŒã§ã®é…ç½®å®Ÿè¡Œ
```bash
# æŠ€è¡“ä»•æ§˜æ›¸ã®æ—¢å­˜ãƒ•ã‚¡ã‚¤ãƒ«åä¿æŒé…ç½®
serena deploy-tech-specs --source=".tmp/tech-work/" --destination="." --preserve-existing-names --backup-original
serena deploy-changelog --source=".tmp/changelog-work/CHANGELOG-enhanced.md" --destination="CHANGELOG.md" --backup-original

# æ–°è¦ä½œæˆã•ã‚ŒãŸè©³ç´°å¤‰æ›´å±¥æ­´ã®é…ç½®
serena deploy-changes-structure ".tmp/changelog-work/" --destination="." --preserve-existing-structure

# ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³å®Ÿè¡Œãƒ•ã‚¡ã‚¤ãƒ«ã®é…ç½®
serena deploy-migration-scripts ".tmp/changelog-work/" --destination="." --preserve-existing-scripts
```

### 5.2 é…ç½®ãƒ­ã‚°ãƒ»ã‚¯ãƒªãƒ¼ãƒ³ã‚¢ãƒƒãƒ—
```bash
# é…ç½®çµæœã®è¨˜éŒ²
serena log-tech-spec-deployment --changes-summary --enhancement-metrics
echo "ğŸ“Š æŠ€è¡“ä»•æ§˜: $(serena count-enhanced-sections) ã‚»ã‚¯ã‚·ãƒ§ãƒ³å¼·åŒ–"
echo "ğŸ“ CHANGELOG: $(serena count-changelog-entries) ã‚¨ãƒ³ãƒˆãƒªãƒ¼çµ±ä¸€"
echo "ğŸš€ ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³: $(serena count-migration-versions) ãƒãƒ¼ã‚¸ãƒ§ãƒ³å¯¾å¿œ"
echo "ğŸ“š æ–°è¦ä½œæˆ: $(serena list-newly-created-tech-files)"

# .tmpã‚¯ãƒªãƒ¼ãƒ³ã‚¢ãƒƒãƒ—ï¼ˆä½œæ¥­å±¥æ­´ä¿æŒï¼‰
serena archive-tech-spec-work --source=".tmp/" --destination=".tmp/archive/tech-spec-$(date +%Y%m%d-%H%M)"
serena cleanup-tmp-workspace --keep-successful-archive

echo "âœ… æŠ€è¡“ä»•æ§˜æ›¸ãƒ»å¤‰æ›´å±¥æ­´ç®¡ç†æ›´æ–°å®Œäº†"
echo "ğŸ“ ä½œæ¥­å±¥æ­´: .tmp/archive/tech-spec-$(date +%Y%m%d-%H%M)/"
```

## å®Ÿè¡Œæ™‚ã®å‹•çš„åˆ¤æ–­

### æ—¢å­˜ä»•æ§˜æ›¸ã®çµ±åˆ
```bash
# æ•£åœ¨ã™ã‚‹æŠ€è¡“æ–‡æ›¸ã‚’ç™ºè¦‹ãƒ»çµ±åˆ
serena merge-scattered-specs --preserve-important-details
serena consolidate-architecture-docs --remove-duplicates
serena update-cross-references --fix-broken-links
```

### å¤‰æ›´å±¥æ­´ã®å†æ§‹ç¯‰
```bash
# æ—¢å­˜ã®CHANGELOGãŒã‚ã‚‹å ´åˆ
if [ -f "CHANGELOG.md" ]; then
    serena enhance-existing-changelog --semantic-format
    serena extract-migration-info --separate-detailed-guides
fi
```

### ADRï¼ˆArchitecture Decision Recordï¼‰ã®ç”Ÿæˆ
```bash
# é‡è¦ãªæŠ€è¡“åˆ¤æ–­ã‚’ADRã¨ã—ã¦æ–‡æ›¸åŒ–
serena extract-architectural-decisions --from-comments --from-commit-messages
serena generate-adr-template --project-specific
```

## å“è³ªä¿è¨¼ãƒ»ç¶™ç¶šçš„æ›´æ–°

### 1. æŠ€è¡“ä»•æ§˜ã®ç²¾åº¦ç¢ºèª
```bash
serena validate-spec-accuracy --compare-implementation
serena check-performance-claims --against-monitoring
serena verify-security-specifications --penetration-test-results
```

### 2. å¤‰æ›´å±¥æ­´ã®è‡ªå‹•ç¶­æŒ
```bash
# CI/CDãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ã¨ã®çµ±åˆ
serena setup-auto-changelog --conventional-commits
serena configure-breaking-change-detection --api-compatibility
serena enable-migration-validation --automated-testing
```

### 3. ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆåŒæœŸã®è‡ªå‹•åŒ–
```bash
serena setup-spec-sync --code-comment-extraction
serena configure-doc-validation --on-merge-request
serena enable-outdated-doc-detection --quarterly-review
```

## ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹æˆ¦ç•¥

### å®šæœŸãƒ¬ãƒ“ãƒ¥ãƒ¼ã®è¨­å®š
```markdown
## ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆæ›´æ–°ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«

| ç¨®é¡ | é »åº¦ | è²¬ä»»è€… |
|------|------|--------|
| æŠ€è¡“ä»•æ§˜æ¦‚è¦ | å››åŠæœŸ | ãƒ†ãƒƒã‚¯ãƒªãƒ¼ãƒ‰ |
| è©³ç´°ä»•æ§˜ | æ©Ÿèƒ½ãƒªãƒªãƒ¼ã‚¹æ™‚ | é–‹ç™ºãƒãƒ¼ãƒ  |
| å¤‰æ›´å±¥æ­´ | ãƒªãƒªãƒ¼ã‚¹æ™‚ | ãƒªãƒªãƒ¼ã‚¹æ‹…å½“ |
| ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ | ãƒ¡ã‚¸ãƒ£ãƒ¼ãƒãƒ¼ã‚¸ãƒ§ãƒ³ | ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒˆ |
```

ã“ã®ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã«ã‚ˆã‚Šã€æ—¢å­˜ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ§‹é€ ã«é©å¿œã—ãŸåŒ…æ‹¬çš„ãªæŠ€è¡“ä»•æ§˜æ›¸ã¨å¤‰æ›´å±¥æ­´ç®¡ç†ã‚·ã‚¹ãƒ†ãƒ ã‚’æ§‹ç¯‰ã§ãã¾ã™ã€‚
